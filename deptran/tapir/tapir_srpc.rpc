namespace rococo;

abstract service Tapir {
  defer Prepare();
  defer Accept(uint64_t cmd_id,
               uint64_t ballot,
	       int32_t decision);
  // works as 2PC prepare on a paxos fast-accept
  defer FastAccept(SimpleCommand cmd | 
                   i32 res,
                   map<i32, Value> output);
  // works as a 2PC commit/abort with a paxos decision
  defer Decide(i64 cmd_id, i32 commit);
}
